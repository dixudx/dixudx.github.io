<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Dynamically Show the Overall Progress of Running Jenkins Flows | Stephen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Prelude
Everyone knows Jenkins, right? And I think nobody don’t love Jenkins. Maybe it’s not the fastest or the fanciest, but it’s really easy to start to use, even for rookies, due to its short learn">
<meta property="og:type" content="article">
<meta property="og:title" content="Dynamically Show the Overall Progress of Running Jenkins Flows">
<meta property="og:url" content="http://dixudx.github.io/2015/09/28/Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows/index.html">
<meta property="og:site_name" content="Stephen's Blog">
<meta property="og:description" content="Prelude
Everyone knows Jenkins, right? And I think nobody don’t love Jenkins. Maybe it’s not the fastest or the fanciest, but it’s really easy to start to use, even for rookies, due to its short learn">
<meta property="og:image" content="http://dixudx.github.io/images/jenkins_logo_title.jpg">
<meta property="og:image" content="http://dixudx.github.io/images/superhero-all.svg">
<meta property="og:image" content="https://wiki.jenkins-ci.org/download/attachments/66847200/Capture+d%E2%80%99%C3%A9cran+2013-08-08+%C3%A0+18.54.39.png?version=1&modificationDate=1375980909000">
<meta property="og:image" content="http://dixudx.github.io/images/reflatus_demo.png">
<meta property="og:updated_time" content="2015-10-10T13:58:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dynamically Show the Overall Progress of Running Jenkins Flows">
<meta name="twitter:description" content="Prelude
Everyone knows Jenkins, right? And I think nobody don’t love Jenkins. Maybe it’s not the fastest or the fanciest, but it’s really easy to start to use, even for rookies, due to its short learn">
  
  
    <link rel="icon" href="/favicon.png">
  

  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  
  
    <link rel="stylesheet" href="/scrollLoading/style.css" type="text/css">
  
  


  
    <style type="text/css">
      .logo { background-image:url(/images/blog_logo_light.png); }
    </style>
  

  
    <link href='//fonts.useso.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
</head>

<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">To me, the past is black and white, but the future is always colorful.</p>
            </h2>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/">Home</a></li>
              
                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Projects/">Projects</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Tutorial/">Tutorial</a></li></ul>
                  
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/about/index.html">About</a></li>
              
            </ul>
            <nav id="sub-nav">
              <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://dixudx.github.io"></form>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header"><a class="page-title-link" href="/categories/Projects/">Projects</a></h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      Dynamically Show the Overall Progress of Running Jenkins Flows
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2015/09/28/Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows/" class="article-date">
  <time datetime="2015-09-28T07:52:24.000Z" itemprop="datePublished">2015-09-28</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <h2 id="Prelude">Prelude</h2><p><img src="/images/jenkins_logo_title.jpg" alt=""></p>
<p>Everyone knows <a href="http://jenkins-ci.org/" target="_blank" rel="external">Jenkins</a>, right? And I think nobody don’t love <a href="http://jenkins-ci.org/" target="_blank" rel="external">Jenkins</a>. Maybe it’s not the fastest or the fanciest, but it’s really easy to start to use, even for rookies, due to its short learning curves. What’s more, it has a great ecosystem of <a href="https://wiki.jenkins-ci.org/display/JENKINS/Plugins" target="_blank" rel="external">plugins and add-ons</a>, which has significantly improved its capability. It is also optimized for easy customization. It can be configured to build codes, create <a href="http://www.docker.com/" target="_blank" rel="external">Docker containers</a>, run tons of tests, push to staging/production and etc. </p>
<p><a href="http://jenkins-ci.org/" target="_blank" rel="external">Jenkins</a> has become an indispensable tool for <a href="https://en.wikipedia.org/wiki/Continuous_integration" target="_blank" rel="external">Continuous Integration</a> (aka CI) and <a href="https://en.wikipedia.org/wiki/DevOps" target="_blank" rel="external">DevOps</a>. With the help of <a href="http://docs.openstack.org/infra/jenkins-job-builder/" target="_blank" rel="external">Jenkins-Job-Builder</a> (aka JJB), the configurations of Jenkins <a href="https://wiki.jenkins-ci.org/display/JENKINS/Build+Flow+Plugin" target="_blank" rel="external">Jobs/Flows</a> in JSON format can be maintained and updated through <a href="http://www.git-scm.com/" target="_blank" rel="external">Git</a>, which makes it easier to track every change on every Job/Flow.</p>
<p><span class="image-wrap" style=""><br><img src="/images/superhero-all.svg" style="border: 0px solid black"><br></span></p>
<p>However there are some issues regarding scaling and performance, which isn’t so unusual. <a href="http://jenkins-ci.org/" target="_blank" rel="external">Jenkins</a> is built as a CI tool, which also needs CI for itself.</p>
<p>There are other cool solutions such as <a href="https://travis-ci.com/" target="_blank" rel="external">Travis CI</a> and <a href="https://circleci.com/" target="_blank" rel="external">Circle CI</a>, which are both hosted solutions that don’t require any maintenance on our side.</p>
<h2 id="Reflatus">Reflatus</h2><p>Ordinarily when a build flow is running, we want to track and dynamically show the <code>real-time status</code> of the Jenkins Build Flow. There is already a plugin named <a href="https://wiki.jenkins-ci.org/display/JENKINS/Build+Graph+View+Plugin" target="_blank" rel="external">Build Graph View Plugin</a>, which computes a graph of related builds starting from the first job to the current one, and renders it as a graph.</p>
<p><img src="https://wiki.jenkins-ci.org/download/attachments/66847200/Capture+d%E2%80%99%C3%A9cran+2013-08-08+%C3%A0+18.54.39.png?version=1&amp;modificationDate=1375980909000" alt=""></p>
<p>However, that plugin is full-fledged with no standalone daemon, which is hard to customized and integrated into your own dashboard. What’s more, that plugin cannot fully display <strong>the whole flow graph</strong> until all the subjobs/pipelines finish. So it is quite hard for developers, testers and operations engineers to maintain/monitor the <strong>overall progress</strong> of the current flow.</p>
<p>So I write such a standalone web service named <a href="https://github.com/dixudx/reflatus" target="_blank" rel="external"><strong>reflatus</strong></a>, short for <strong>re</strong>al-time jenkins <strong>fl</strong>ow st<strong>atus</strong>.</p>
<p><img src="/images/reflatus_demo.png" alt="A Demo Flow"></p>
<p>On how to use and configure this tool, please refer to <a href="https://github.com/dixudx/reflatus" target="_blank" rel="external">the project wiki</a>.</p>
<h3 id="What_it_can_NOT_do">What it can NOT do</h3><p>Reflatus only has a <strong><em>static parser</em></strong>, which can <strong>NOT</strong> parse the dedicated DSL defined by <a href="https://wiki.jenkins-ci.org/display/JENKINS/Build+Flow+Plugin" target="_blank" rel="external">build flow</a>. For the reasons, please refer to FAQ.</p>
<p>Then an extra yaml file is needed to <strong><em>explicitly</em></strong> define the build workflows (aka build pipelines). More info can be seen in the <code>Configuration</code> section.</p>
<h2 id="FAQ">FAQ</h2><ul>
<li><p>Why not adding/using a parser to handle the dedicated DSL defined by <a href="https://wiki.jenkins-ci.org/display/JENKINS/Build+Flow+Plugin" target="_blank" rel="external">build flow</a> ?</p>
<p>  If so, there is no need to manually add an extra yaml file. Actually it will become quite complex to implement this feature. Regardless of the complicated build flow combinations, the name of a build job/pipeline can be dynamically acquired by <code>triggered parameters</code>, <code>environment variables</code> or an <code>explicit name</code>. This also applies to build job/pipeline parameters. These all adds more workloads and complexity to this tool. It is for this consideration that I discard this feature.</p>
</li>
</ul>

      </div>
      <footer class="article-footer">
        <a data-url="http://dixudx.github.io/2015/09/28/Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows/" data-id="cig2egpi7000maxyglscjq66r" class="article-share-link"><i class="fa fa-share"></i>Share</a>
        
          <a href="http://dixudx.github.io/2015/09/28/Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows/#comments" class="article-comment-link"><i class="fa fa-comments"></i>Comments</a>
        
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DevOps/">DevOps</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Jenkins/">Jenkins</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ZeroMQ/">ZeroMQ</a></li></ul>

      </footer>
    </div>
  </article>
  
    <section id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </section>
  
  

            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>follow:</p>
    <ul class="social-links">
      
        <li><a class="social-tooltip" title="github" href="https://github.com/dixudx" target="_blank"><i class="icon fa fa-github"></i></a></li>
      
        <li><a class="social-tooltip" title="linkedin" href="https://www.linkedin.com/pub/di-xu/71/991/7a1" target="_blank"><i class="icon fa fa-linkedin"></i></a></li>
      
        <li><a class="social-tooltip" title="rss" href="http://dixu.me/atom.xml" target="_blank"><i class="icon fa fa-rss"></i></a></li>
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/10/14/Tutorial-on-ZooKeeper-Part-1-Concepts-and-Terminologies/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <p class="article-nav-title">
        
          Tutorial on ZooKeeper – Part 1: Concepts and Terminologies
        
      </p>
      <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2015/09/28/A-Python-based-Client-for-Rational-Team-Concert-RTC/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <p class="article-nav-title">A Python-based Client for Rational Team Concert (RTC)</p>
      <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
      
  <div class="widget-wrap">
    <h3 class="widget-title">recents</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/10/22/Tutorial-on-ZooKeeper-Part-4-Use-Ansible-to-Setup-ZooKeeper-Servers/" class="thumbnail">
  
    <span style="background-image:url(/images/zookeeper_cartoon.jpg
)" alt="Tutorial on ZooKeeper – Part 4: Use Ansible to Setup ZooKeeper Servers" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a></p>
              <p class="item-title"><a href="/2015/10/22/Tutorial-on-ZooKeeper-Part-4-Use-Ansible-to-Setup-ZooKeeper-Servers/" class="title">Tutorial on ZooKeeper – Part 4: Use Ansible to Setup ZooKeeper Servers</a></p>
              <p class="item-date"><time datetime="2015-10-22T13:19:43.000Z" itemprop="datePublished">2015-10-22</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/10/17/Tutorial-on-ZooKeeper-Part-3-Setup-ZooKeeper-Cluster/" class="thumbnail">
  
    <span style="background-image:url(/images/zookeeper-1-638.jpg
)" alt="Tutorial on ZooKeeper – Part 3: Setup ZooKeeper Cluster" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a></p>
              <p class="item-title"><a href="/2015/10/17/Tutorial-on-ZooKeeper-Part-3-Setup-ZooKeeper-Cluster/" class="title">Tutorial on ZooKeeper – Part 3: Setup ZooKeeper Cluster</a></p>
              <p class="item-date"><time datetime="2015-10-17T02:32:18.000Z" itemprop="datePublished">2015-10-17</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/10/16/Tutorial-on-ZooKeeper-Part-2-Installation-and-Configuration/" class="thumbnail">
  
    <span style="background-image:url(/images/zoo_keeper1.png
)" alt="Tutorial on ZooKeeper – Part 2: Installation and Configuration" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a></p>
              <p class="item-title"><a href="/2015/10/16/Tutorial-on-ZooKeeper-Part-2-Installation-and-Configuration/" class="title">Tutorial on ZooKeeper – Part 2: Installation and Configuration</a></p>
              <p class="item-date"><time datetime="2015-10-16T05:37:58.000Z" itemprop="datePublished">2015-10-16</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/10/14/Tutorial-on-ZooKeeper-Part-1-Concepts-and-Terminologies/" class="thumbnail">
  
    <span style="background-image:url(/images/bigdata-zookeeper.png
)" alt="Tutorial on ZooKeeper – Part 1: Concepts and Terminologies" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a></p>
              <p class="item-title"><a href="/2015/10/14/Tutorial-on-ZooKeeper-Part-1-Concepts-and-Terminologies/" class="title">Tutorial on ZooKeeper – Part 1: Concepts and Terminologies</a></p>
              <p class="item-date"><time datetime="2015-10-14T12:25:21.000Z" itemprop="datePublished">2015-10-14</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/09/28/Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows/" class="thumbnail">
  
    <span style="background-image:url(/images/jenkins_logo_title.jpg
)" alt="Dynamically Show the Overall Progress of Running Jenkins Flows" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Projects/">Projects</a></p>
              <p class="item-title"><a href="/2015/09/28/Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows/" class="title">Dynamically Show the Overall Progress of Running Jenkins Flows</a></p>
              <p class="item-date"><time datetime="2015-09-28T07:52:24.000Z" itemprop="datePublished">2015-09-28</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/">Projects</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/">Tutorial</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ansible/">Ansible</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DevOps/">DevOps</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/High-Availability/">High Availability</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/">Jenkins</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RTC/">RTC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Role/">Role</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZeroMQ/">ZeroMQ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZooKeeper/">ZooKeeper</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pypi/">pypi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rtcclient/">rtcclient</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-float">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Ansible/" style="font-size: 10px;">Ansible</a> <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/DevOps/" style="font-size: 10px;">DevOps</a> <a href="/tags/High-Availability/" style="font-size: 10px;">High Availability</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/RTC/" style="font-size: 10px;">RTC</a> <a href="/tags/Role/" style="font-size: 10px;">Role</a> <a href="/tags/ZeroMQ/" style="font-size: 10px;">ZeroMQ</a> <a href="/tags/ZooKeeper/" style="font-size: 20px;">ZooKeeper</a> <a href="/tags/pypi/" style="font-size: 10px;">pypi</a> <a href="/tags/rtcclient/" style="font-size: 10px;">rtcclient</a>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>


    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
      <div class="credit">
        <h1 class="logo-wrap">
          <a href="/" class="logo"></a>
        </h1>
        <p>&copy; 2015 Di Xu</p>
        <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
      </div>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'dixume';
  
  var disqus_url = 'http://dixudx.github.io/2015/09/28/Dynamically-Show-the-Overall-Progress-of-Running-Jenkins-Flows/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



  <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>



  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



  <script src="/scrollLoading/jquery.scrollLoading.js" type="text/javascript"></script>
  <script src="/scrollLoading/main.js" type="text/javascript"></script>


<script src="/js/html-patch.js" type="text/javascript"></script>
<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>
